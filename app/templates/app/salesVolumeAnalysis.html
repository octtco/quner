{% extends 'app/base.html' %}

{% block title %}旅游数据分析系统 - 销量分析{% endblock %}

{% block extra_css %}
    <!-- Add any specific CSS for this page if needed -->
    <link rel="stylesheet" href="/static/css/dashboard-page.css">
{% endblock %}

{% block content %}

    <div class="row">
        <div class="col-md-12">
            <h1 class="page-header">销量分析</h1>
        </div>
    </div>

    <section class="section dashboard">
        <div class="row">
            <!-- Sales Volume Chart -->
            <div class="col-lg-12">
                 <div class="card">
                    <div class="card-body">
                      <h5 class="card-title">景点月销量排行</h5>
                        <div id="salesChart" style="width:100%;height: 600px"></div>
                    </div>
                  </div>
            </div>
        </div>
    </section>

{% endblock %}

{% block extra_js %}
    <!-- ECharts图表库 -->
    <script src="/static/plugins/echarts/echarts.min.js"></script>
    <script>
        var chartDom = document.getElementById('salesChart');
        var myChart = echarts.init(chartDom);
        var option;

        // Placeholder for ECharts option - will be populated by view
        option = {
            tooltip: {
                trigger: 'axis',
                axisPointer: {
                    type: 'shadow'
                }
            },
            grid: {
                left: '3%',
                right: '4%',
                bottom: '3%',
                containLabel: true
            },
            xAxis: {
                type: 'value',
                boundaryGap: [0, 0.01]
            },
            yAxis: {
                type: 'category',
                data: {{ sales_names | safe }} // Populated by view
            },
            series: [
                {
                    name: '月销量',
                    type: 'bar',
                    data: {{ sales_counts | safe }} // Populated by view
                }
            ]
        };

        option && myChart.setOption(option);

    </script>
{% endblock %}